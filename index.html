<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ====== Meta & SEO ====== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>S M Mahidur Rahman — Portfolio</title>
  <meta name="description" content="S M Mahidur Rahman's personal website — projects, education, skills, and contact." />
  <link rel="canonical" href="" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="S M Mahidur Rahman — Portfolio" />
  <meta property="og:description" content="S M Mahidur Rahman's personal website — projects, education, skills, and contact." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/og.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <meta name="theme-color" content="#0f172a" />

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg: #0a0e1a;
      --panel: #0f1419;
      --muted: #94a3b8;
      --text: #e2e8f0;
      --accent: #22d3ee;
      --accent-2: #a78bfa;
      --ring: rgba(34,211,238,0.35);
      --radius: 14px;
      --shadow: 0 10px 30px rgba(2,8,23,0.6);
      --maxw: 1100px;
    }
    :root[data-theme="dark"]{
      --bg: #0a0e1a;
      --panel: #0f1419;
      --muted: #94a3b8;
      --text: #e2e8f0;
      --shadow: 0 10px 30px rgba(2,8,23,0.6);
    }
    :root[data-theme="light"]{
        --bg: #f8fafc;
        --panel: #ffffff;
        --muted: #475569;
        --text: #0f172a;
        --shadow: 0 8px 24px rgba(15,23,42,0.08);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 10% -10%, rgba(167,139,250,0.08), transparent 60%),
                  radial-gradient(800px 500px at 90% 10%, rgba(34,211,238,0.08), transparent 60%),
                  var(--bg);
      color:var(--text);
      line-height:1.6;
      font-weight:400;
    }
    a{color:inherit}
    img{max-width:100%; height:auto; display:block}

    .wrap{max-width:var(--maxw); margin:0 auto; padding:0 20px}
    header{
      position:sticky; top:0; z-index:1000;
      backdrop-filter:saturate(180%) blur(10px);
      background: color-mix(in oklab, var(--panel) 70%, transparent);
      border-bottom:1px solid color-mix(in oklab, var(--text) 12%, transparent);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:16px; height:64px;
    }
    .brand{
      display:flex; align-items:center; gap:10px; text-decoration:none;
      font-weight:700; letter-spacing:.3px; font-size:1.1rem;
    }
    .brand .dot{
      width:12px; height:12px; border-radius:50%;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow:0 0 0 4px var(--ring);
    }
    nav ul{list-style:none; padding:0; margin:0; display:flex; gap:18px}
    nav a{padding:8px 12px; border-radius:10px; text-decoration:none; color:var(--text)}
    nav a:hover, nav a:focus{outline:none; background:color-mix(in oklab, var(--text) 10%, transparent)}

    .menu-btn{display:none; border:1px solid color-mix(in oklab, var(--text) 14%, transparent); background:transparent; color:var(--text); border-radius:10px; padding:8px 10px}
    @media (max-width:860px){
      nav{display:none}
      nav.open{display:block; position:absolute; top:64px; left:0; right:0; background:var(--panel); padding:12px 0; border-bottom:1px solid color-mix(in oklab, var(--text) 12%, transparent)}
      nav ul{flex-direction:column; align-items:center}
      .menu-btn{display:inline-flex; align-items:center; gap:8px}
    }

    .hero{
      display:grid; grid-template-columns:1.2fr 1fr; gap:28px; align-items:center;
      padding:60px 0 30px;
    }
    @media (max-width:920px){ .hero{grid-template-columns:1fr; padding:30px 0} }
    .card{
      background:var(--panel); border:1px solid color-mix(in oklab, var(--text) 10%, transparent);
      border-radius:var(--radius); box-shadow:var(--shadow);
    }
    .hero .intro{padding:28px}
    .kicker{font-weight:500; color:var(--muted); text-transform:uppercase; letter-spacing:.15em; font-size:.85rem}
    h1{font-size: clamp(32px, 4.5vw, 48px); line-height:1.1; margin:.25em 0 .35em; font-weight:700; letter-spacing:-.02em}
    .tagline{font-size:1.1rem; color:var(--muted); font-weight:400; line-height:1.5}
    .cta{display:flex; flex-wrap:wrap; gap:12px; margin-top:18px}
    .btn{
      display:inline-flex; align-items:center; gap:10px; border:1px solid transparent; text-decoration:none;
      padding:12px 14px; border-radius:12px; font-weight:600; cursor:pointer; user-select:none;
      transition:transform .05s ease; font-family:'Poppins', sans-serif;
    }
    .btn:active{transform:translateY(1px)}
    .btn.primary{background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:#001018}
    .btn.ghost{border-color:color-mix(in oklab, var(--text) 14%, transparent)}
    .btn svg{width:18px; height:18px}

    .photo{
      aspect-ratio:1/1; overflow:hidden; border-radius:20px; margin:6px; background:#0002;
      display:grid; place-items:center; position:relative;
    }
    .photo img{width:100%; height:100%; object-fit:cover; border-radius:20px}
    .chip-row{display:flex; flex-wrap:wrap; gap:8px; margin-top:14px}
    .chip{font-size:.85rem; padding:6px 10px; border-radius:999px; background:color-mix(in oklab, var(--text) 8%, transparent); border:1px solid color-mix(in oklab, var(--text) 10%, transparent); font-weight:500}

    section{padding:34px 0}
    section .head{display:flex; align-items:end; justify-content:space-between; gap:10px; margin-bottom:16px}
    h2{margin:0; font-size: clamp(24px, 3.2vw, 32px); font-weight:600; letter-spacing:-.01em}
    #about h2{background:linear-gradient(135deg, var(--accent), var(--accent-2)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; font-weight:700}
    .sub{color:var(--muted); font-size:.95rem; font-weight:400}

    .grid{display:grid; gap:16px}
    .grid.cols-2{grid-template-columns:1.2fr 0.8fr}
    .grid.cols-3{grid-template-columns:repeat(3, 1fr)}
    @media (max-width:960px){ .grid.cols-3{grid-template-columns:1fr 1fr} }
    @media (max-width:700px){ .grid.cols-2, .grid.cols-3{grid-template-columns:1fr} }

    .panel{padding:20px; border-radius:var(--radius); background:var(--panel); border:1px solid color-mix(in oklab, var(--text) 10%, transparent)}
    #about .panel{background:linear-gradient(135deg, color-mix(in oklab, var(--panel) 95%, var(--accent) 5%), color-mix(in oklab, var(--panel) 98%, var(--accent-2) 2%)); border:1px solid color-mix(in oklab, var(--accent) 20%, transparent); box-shadow:0 8px 32px rgba(34,211,238,0.1)}
    .panel h3{margin:0 0 8px; font-weight:600; font-size:1.1rem}
    .panel p{margin:.25em 0; font-weight:400; line-height:1.6}
    #about .panel p{font-size:1.1rem; line-height:1.7; font-weight:400; letter-spacing:0.01em; color:var(--text); text-align:justify; margin:0}

    .timeline{display:grid; gap:14px}
    .edu-item{display:grid; grid-template-columns:auto 1fr; gap:12px; align-items:start}
    .dotline{width:10px; height:10px; border-radius:50%; margin-top:8px;
      background:linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow:0 0 0 4px var(--ring)}
    .edu-body small{color:var(--muted)}

    .tags{display:flex; flex-wrap:wrap; gap:6px; margin-top:8px}
    .tag{font-size:.78rem; padding:4px 8px; border-radius:999px; background:color-mix(in oklab, var(--text) 8%, transparent); border:1px solid color-mix(in oklab, var(--text) 10%, transparent); font-weight:500}
    .panel a.inline{display:inline-flex; align-items:center; gap:8px; text-decoration:none; font-weight:600}
    .panel a.inline:hover{text-decoration:underline}

    form .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    form .row > * {min-width:0}
    @media (max-width:700px){ form .row{grid-template-columns:1fr} }
    input, textarea{
      width:100%; padding:12px 14px; border-radius:12px; background:transparent; color:var(--text);
      border:1px solid color-mix(in oklab, var(--text) 16%, transparent);
      outline:none;
    }
    input:focus, textarea:focus{box-shadow:0 0 0 4px var(--ring); border-color:transparent}
    textarea{min-height:120px; resize:vertical}

    .socials{display:flex; gap:10px; flex-wrap:wrap}
    .icon-btn{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:12px; text-decoration:none; border:1px solid color-mix(in oklab, var(--text) 12%, transparent)}
    .icon-btn svg{width:18px; height:18px}

    footer{padding:28px 0; color:var(--muted); font-size:.95rem}
    .top-btn{
      position:fixed; right:18px; bottom:18px; z-index:999; display:none;
      border:0; border-radius:999px; padding:12px; background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:#001018; box-shadow:var(--shadow); cursor:pointer;
    }
    .top-btn.show{display:inline-flex}
    .theme-toggle{border:1px solid color-mix(in oklab, var(--text) 14%, transparent); background:transparent; color:var(--text); border-radius:12px; padding:10px 12px}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto; transition:none!important; animation:none!important}
    }
  </style>

  <!-- Schema.org Person -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "S M Mahidur Rahman",
    "jobTitle": "Student",
    "description": "Personal portfolio website.",
    "image": "profile.jpg",
    "url": "",
    "email": "mailto:mahidursakib@gmail.com",
    "sameAs": [
      "https://github.com/MahidurSakib",
      "https://www.linkedin.com/in/s-m-mahidur-rahman-59086a338/",
      "https://www.facebook.com/mahidursakib"
    ]
  }
  </script>
</head>
<body>
  <a class="sr-only" href="#main">Skip to content</a>
  <header>
    <div class="wrap nav">
      <a class="brand" href="#top" aria-label="Home">
        <span class="dot" aria-hidden="true"></span>
        <span>S M Mahidur Rahman</span>
      </a>
      <button class="menu-btn" id="menuBtn" aria-controls="siteNav" aria-expanded="false">
        <span>Menu</span>
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
      </button>
      <nav id="siteNav" aria-label="Primary">
        <ul>
          <li><a href="#about">About</a></li>
          <li><a href="#education">Education</a></li>
          <li><a href="#skills">Skills</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#hobbies">Hobbies</a></li>
          <li><a href="#certs">Certifications</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <button class="theme-toggle" id="themeBtn" aria-label="Toggle theme">
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path fill="currentColor" d="M21.64 13a1 1 0 0 0-1.05-.14 8.05 8.05 0 0 1-3.37.73A8.15 8.15 0 0 1 9.08 5.49a8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27A10.15 10.15 0 0 0 17.22 15.63a9.79 9.79 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32z"/></svg>
      </button>
    </div>
  </header>

  <main id="main">
    <!-- ====== HERO ====== -->
    <div class="wrap">
      <section class="hero" id="top" aria-labelledby="hero-title">
        <div class="card intro">
          <div class="kicker">Hey There! I'm</div>
          <h1 id="hero-title">S M Mahidur Rahman</h1>
          <p class="tagline">An Undergrad student. Currently pursuing my B.Sc. in Computer Science from Brac University</p>

          <div class="chip-row" aria-label="Highlights">
            <span class="chip">Student</span>
            <span class="chip">High Ambitious</span>
            <span class="chip">Dedicated</span>
            <span class="chip">Progressive Learner</span>
          </div>

          <div class="cta">
            <a class="btn primary" href="resume.pdf" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M5 20h14v-2H5m7-14v8l3-3 1.41 1.41L12 18.83l-4.41-4.42L9 11l3 3V4h0z"/></svg>
              Resume
            </a>
            <a class="btn ghost" href="#contact">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v.67l10 6.25L22 6.67V6a2 2 0 0 0-2-2zm0 6.75-8 5-8-5V18a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2z"/></svg>
              Contact
            </a>
          </div>
        </div>

        <div class="photo card" aria-label="Profile photo">
          <img src="profile.jpg" alt="Portrait of S M Mahidur Rahman" />
        </div>
      </section>
    </div>

    <!-- ====== ABOUT ====== -->
    <section id="about" aria-labelledby="about-head">
      <div class="wrap">
        <div class="head">
          <h2 id="about-head">About me</h2>
          <div class="sub">A short intro</div>
        </div>
        <div class="panel">
          <p>
            Hey there. I am S M Mahidur Rahman, a Computer Science student with a deep passion for technology, innovation, and problem-solving. I enjoy exploring how software and systems can be designed to make everyday life smarter and more efficient. My academic journey has helped me build strong foundations in programming, algorithms, and digital systems, and I'm always eager to apply what I learn to real-world projects. I believe in continuous growth, creativity, and collaboration — qualities that drive me to keep improving and contributing to the ever-evolving world of technology.
          </p>
        </div>
      </div>
    </section>

    <!-- ====== EDUCATION ====== -->
    <section id="education" aria-labelledby="edu-head">
      <div class="wrap">
        <div class="head">
          <h2 id="edu-head">Education</h2>
          <div class="sub">Academic journey</div>
        </div>
        <div class="panel timeline">
          <div class="edu-item">
            <div class="dotline" aria-hidden="true"></div>
            <div class="edu-body">
              <h3>Degree / Program — University Name</h3>
              <small>Year–Year (or “Present”)</small>
              <p>Highlights: relevant coursework, honors, activities.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ====== SKILLS ====== -->
    <section id="skills" aria-labelledby="skills-head">
      <div class="wrap">
        <div class="head">
          <h2 id="skills-head">Skills</h2>
          <div class="sub">Tools & strengths</div>
        </div>
        <div class="grid cols-3">
          <div class="panel">
            <h3>Languages</h3>
            <p>English, Bengali (edit this list)</p>
          </div>
          <div class="panel">
            <h3>Tools</h3>
            <p>MS Office, Google Docs, Canva (examples—edit)</p>
          </div>
          <div class="panel">
            <h3>Domains</h3>
            <p>Customer service, content, or your field</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ====== PROJECTS ====== -->
    <section id="projects" aria-labelledby="proj-head">
      <div class="wrap">
        <div class="head">
          <h2 id="proj-head">Projects</h2>
          <div class="sub">Selected work</div>
        </div>
        <div class="grid cols-3">
          <article class="panel">
            <h3>Project Title</h3>
            <p>1–2 line summary of what you built and why.</p>
            <div class="tags">
              <span class="tag">Tag</span><span class="tag">Tag</span><span class="tag">Tag</span>
            </div>
            <p><a class="inline" href="#" target="_blank" rel="noopener">View more →</a></p>
          </article>
          <article class="panel">
            <h3>Another Project</h3>
            <p>Brief description. Replace with your own details.</p>
            <div class="tags">
              <span class="tag">Tag</span><span class="tag">Tag</span>
            </div>
            <p><a class="inline" href="#" target="_blank" rel="noopener">Demo/Repo →</a></p>
          </article>
          <article class="panel">
            <h3>Activity / Volunteer Work</h3>
            <p>Optional: community work or achievements.</p>
            <div class="tags">
              <span class="tag">Community</span>
            </div>
            <p><a class="inline" href="#" target="_blank" rel="noopener">Learn more →</a></p>
          </article>
        </div>
      </div>
    </section>

    <!-- ====== HOBBIES ====== -->
    <section id="hobbies" aria-labelledby="hobby-head">
      <div class="wrap">
        <div class="head">
          <h2 id="hobby-head">Hobbies & Interests</h2>
          <div class="sub">Life beyond work</div>
        </div>
        <div class="grid cols-3">
          <div class="panel"><h3>Reading</h3><p>Books that inspire me.</p></div>
          <div class="panel"><h3>Music</h3><p>Listening and discovering new artists.</p></div>
          <div class="panel"><h3>Sports / Fitness</h3><p>Keep active and healthy.</p></div>
        </div>
      </div>
    </section>

    <!-- ====== CERTIFICATIONS ====== -->
    <section id="certs" aria-labelledby="certs-head">
      <div class="wrap">
        <div class="head">
          <h2 id="certs-head">Certifications</h2>
          <div class="sub">Credentials</div>
        </div>
        <div class="grid cols-2">
          <div class="panel"><h3>Certificate Name</h3><p>Issuer • Year</p></div>
          <div class="panel"><h3>Certificate Name</h3><p>Issuer • Year</p></div>
        </div>
      </div>
    </section>

    <!-- ====== CONTACT ====== -->
    <section id="contact" aria-labelledby="contact-head">
      <div class="wrap">
        <div class="head">
          <h2 id="contact-head">Contact</h2>
          <div class="sub">Let’s connect</div>
        </div>
        <div class="grid cols-2">
          <div class="panel">
            <form id="contactForm" onsubmit="return sendMailto(event)">
              <div class="row">
                <div>
                  <label for="name">Name</label>
                  <input id="name" name="name" autocomplete="name" placeholder="Your name" required />
                </div>
                <div>
                  <label for="email">Email</label>
                  <input id="email" name="email" type="email" autocomplete="email" placeholder="you@example.com" required />
                </div>
              </div>
              <div style="margin-top:12px">
                <label for="msg">Message</label>
                <textarea id="msg" name="message" placeholder="Say hi!" required></textarea>
              </div>
              <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
                <button class="btn primary" type="submit">
                  <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="m2 21 21-9L2 3v7l15 2-15 2z"/></svg>
                  Send Message
                </button>
                <a class="btn ghost" href="mailto:mahidursakib@gmail.com" onclick="copyEmailToClipboard(event)">
                  <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v.67l10 6.25L22 6.67V6a2 2 0 0 0-2-2zm0 6.75-8 5-8-5V18a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2z"/></svg>
                  Email Directly
                </a>
                <button class="btn ghost" onclick="copyEmailToClipboard(event)" style="cursor:pointer">
                  <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M16 1H4a2 2 0 0 0-2 2v14h2V3h12V1zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16H8V7h11v14z"/></svg>
                  Copy Email
                </button>
              </div>
            </form>
          </div>

          <div class="panel">
            <h3>Social</h3>
            <p class="sub">Connect with me</p>
            <div class="socials">
              <a class="icon-btn" href="https://github.com/MahidurSakib" target="_blank" rel="noopener" aria-label="GitHub">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a10 10 0 0 0-3.16 19.49c.5.09.68-.22.68-.48v-1.7c-2.78.61-3.37-1.19-3.37-1.19-.45-1.14-1.11-1.44-1.11-1.44-.91-.63.07-.62.07-.62 1 .07 1.52 1.03 1.52 1.03.9 1.53 2.36 1.09 2.94.83.09-.66.35-1.1.63-1.35-2.22-.26-4.55-1.11-4.55-4.95a3.9 3.9 0 0 1 1.04-2.71 3.63 3.63 0 0 1 .1-2.67s.84-.27 2.75 1.02a9.5 9.5 0 0 1 5 0c1.9-1.29 2.74-1.02 2.74-1.02.37.86.4 1.84.1 2.71a3.9 3.9 0 0 1 1.03 2.71c0 3.85-2.33 4.68-4.56 4.93.36.3.67.89.67 1.8v2.66c0 .26.18.57.68.47A10 10 0 0 0 12 2z"/></svg>
                GitHub
              </a>
              <a class="icon-btn" href="https://www.linkedin.com/in/s-m-mahidur-rahman-59086a338/" target="_blank" rel="noopener" aria-label="LinkedIn">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.94 6.5A2.44 2.44 0 1 1 4.5 4.06 2.44 2.44 0 0 1 6.94 6.5zM4.75 8.75h4.34v10.5H4.75zM13 8.75h4.16v1.53h.06A4.56 4.56 0 0 1 22 14.98v4.27h-4.34v-3.78c0-.9-.02-2.06-1.26-2.06s-1.45.98-1.45 2v3.84H10.6V8.75H13z"/></svg>
                LinkedIn
              </a>
              <a class="icon-btn" href="https://www.facebook.com/mahidursakib" target="_blank" rel="noopener" aria-label="Facebook">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                Facebook
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="wrap">
      <footer>
        <div>© <span id="year"></span> S M Mahidur Rahman. All rights reserved.</div>
      </footer>
    </div>
  </main>

  <button id="toTop" class="top-btn" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12 2 3 11h6v9h6v-9h6z"/></svg>
  </button>

  <script>
    // Apply dark mode immediately to prevent flash
    document.documentElement.dataset.theme = 'dark';
    
    // Mobile menu
    const menuBtn = document.getElementById('menuBtn');
    const nav = document.getElementById('siteNav');
    menuBtn?.addEventListener('click', () => {
      const open = nav.classList.toggle('open');
      menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    // Back-to-top visibility
    const toTop = document.getElementById('toTop');
    const toggleTop = () => {
      if (window.scrollY > 500) toTop.classList.add('show');
      else toTop.classList.remove('show');
    };
    document.addEventListener('scroll', toggleTop);
    toTop?.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle (persisted)
    const themeBtn = document.getElementById('themeBtn');
    const applyTheme = t => {
      document.documentElement.dataset.theme = t;
      // Update icon based on current theme
      const icon = themeBtn.querySelector('svg path');
      if (t === 'light') {
        // Show moon icon for light mode (to switch to dark)
        icon.setAttribute('d', 'M21.64 13a1 1 0 0 0-1.05-.14 8.05 8.05 0 0 1-3.37.73A8.15 8.15 0 0 1 9.08 5.49a8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27A10.15 10.15 0 0 0 17.22 15.63a9.79 9.79 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32z');
      } else {
        // Show sun icon for dark mode (to switch to light)
        icon.setAttribute('d', 'M21 12a9 9 0 1 1-9-9 7 7 0 0 0 9 9z');
      }
    };
    
    // Set default theme to dark if no saved preference
    const saved = localStorage.getItem('theme');
    if (saved) {
      applyTheme(saved);
    } else {
      // Default to dark mode
      applyTheme('dark');
    }
    
    themeBtn?.addEventListener('click', () => {
      const current = document.documentElement.dataset.theme || 'dark';
      const next = current === 'light' ? 'dark' : 'light';
      applyTheme(next);
      localStorage.setItem('theme', next);
    });

    // Observe theme to update meta color
    const observer = new MutationObserver(() => {
      if (document.documentElement.dataset.theme === 'light'){
        document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff');
      } else {
        document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0f172a');
      }
    });
    observer.observe(document.documentElement, {attributes:true, attributeFilter:['data-theme']});

    // Enhanced mailto contact handler with better error handling
    function sendMailto(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const msg = document.getElementById('msg').value.trim();
      
      // Clear any previous error messages
      clearErrorMessages();
      
      // Validate form fields
      if(!name || !email || !msg) {
        showError('Please fill in all fields before sending.');
        return false;
      }
      
      // Basic email validation
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if(!emailRegex.test(email)) {
        showError('Please enter a valid email address.');
        return false;
      }
      
      try {
        const to = 'mahidursakib@gmail.com';
        const subject = encodeURIComponent(`Portfolio message from ${name}`);
        const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${msg}`);
        const mailtoLink = `mailto:${to}?subject=${subject}&body=${body}`;
        
        // Try to open mailto link
        window.location.href = mailtoLink;
        
        // Show success message
        showSuccess('Opening your email client... If it doesn\'t open, please email me directly at mahidursakib@gmail.com');
        
        // Clear form after successful submission
        setTimeout(() => {
          document.getElementById('contactForm').reset();
        }, 2000);
        
      } catch(error) {
        showError('Unable to open email client. Please email me directly at mahidursakib@gmail.com');
      }
      
      return false;
    }
    
    // Helper functions for better UX
    function showError(message) {
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error-message';
      errorDiv.style.cssText = 'color: #ef4444; background: rgba(239,68,68,0.1); padding: 8px 12px; border-radius: 8px; margin-top: 8px; font-size: 0.9rem; border: 1px solid rgba(239,68,68,0.2);';
      errorDiv.textContent = message;
      
      const form = document.getElementById('contactForm');
      form.appendChild(errorDiv);
      
      // Auto-remove after 5 seconds
      setTimeout(() => {
        if(errorDiv.parentNode) {
          errorDiv.parentNode.removeChild(errorDiv);
        }
      }, 5000);
    }
    
    function showSuccess(message) {
      const successDiv = document.createElement('div');
      successDiv.className = 'success-message';
      successDiv.style.cssText = 'color: #22c55e; background: rgba(34,197,94,0.1); padding: 8px 12px; border-radius: 8px; margin-top: 8px; font-size: 0.9rem; border: 1px solid rgba(34,197,94,0.2);';
      successDiv.textContent = message;
      
      const form = document.getElementById('contactForm');
      form.appendChild(successDiv);
      
      // Auto-remove after 8 seconds
      setTimeout(() => {
        if(successDiv.parentNode) {
          successDiv.parentNode.removeChild(successDiv);
        }
      }, 8000);
    }
    
    function clearErrorMessages() {
      const existingErrors = document.querySelectorAll('.error-message, .success-message');
      existingErrors.forEach(msg => {
        if(msg.parentNode) {
          msg.parentNode.removeChild(msg);
        }
      });
    }
    
    // Copy email to clipboard function
    function copyEmailToClipboard(e) {
      e.preventDefault();
      const email = 'mahidursakib@gmail.com';
      
      if (navigator.clipboard && window.isSecureContext) {
        // Use modern clipboard API
        navigator.clipboard.writeText(email).then(() => {
          showSuccess('Email copied to clipboard! You can now paste it anywhere.');
        }).catch(() => {
          fallbackCopyTextToClipboard(email);
        });
      } else {
        // Fallback for older browsers
        fallbackCopyTextToClipboard(email);
      }
    }
    
    function fallbackCopyTextToClipboard(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.left = '-999999px';
      textArea.style.top = '-999999px';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      
      try {
        const successful = document.execCommand('copy');
        if (successful) {
          showSuccess('Email copied to clipboard! You can now paste it anywhere.');
        } else {
          showError('Unable to copy email. Please manually copy: mahidursakib@gmail.com');
        }
      } catch (err) {
        showError('Unable to copy email. Please manually copy: mahidursakib@gmail.com');
      }
      
      document.body.removeChild(textArea);
    }
  </script>

</body>
</html>
